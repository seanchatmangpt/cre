# GCP Marketplace Deployer - Environment Configuration
# Copy this file to .env and customize for your deployment

# ============================================
# Required Configuration
# ============================================

# GCP Project ID
PROJECT_ID=your-gcp-project-id

# Application Name (alphanumeric and hyphens only)
APP_NAME=marketplace-app

# Kubernetes Namespace
NAMESPACE=default

# ============================================
# GCP Configuration
# ============================================

# Region and Zone
REGION=us-central1
ZONE=us-central1-a

# ============================================
# GKE Configuration
# ============================================

# Cluster Name (leave empty to auto-generate)
CLUSTER_NAME=

# Node Configuration
NODE_COUNT=3
MACHINE_TYPE=n1-standard-4
DISK_SIZE=100

# Auto-scaling
ENABLE_AUTOSCALING=true
MIN_NODES=1
MAX_NODES=10

# Private Cluster Settings
ENABLE_PRIVATE_CLUSTER=true
MASTER_IPV4_CIDR_BLOCK=172.16.0.0/28

# GKE Version (leave empty for default stable version)
GKE_VERSION=

# ============================================
# Networking Configuration
# ============================================

# VPC Name (leave empty to auto-generate)
VPC_NAME=

# Subnet Configuration
SUBNET_NAME=
SUBNET_CIDR=10.0.0.0/24

# Secondary IP Ranges
SECONDARY_RANGE_PODS=gke-pods
SECONDARY_RANGE_SERVICES=gke-services
PODS_CIDR=10.1.0.0/16
SERVICES_CIDR=10.2.0.0/16

# ============================================
# Database Configuration
# ============================================

# Enable Database Provisioning
DATABASE_ENABLED=true

# Cloud SQL Instance Name (leave empty to auto-generate)
DB_INSTANCE_NAME=

# Database Configuration
DB_VERSION=POSTGRES_14
DB_TIER=db-n1-standard-2
DB_STORAGE_SIZE=20
DB_STORAGE_TYPE=PD_SSD

# Database Name and User (will be auto-generated from APP_NAME if not set)
DB_NAME=
DB_USER=

# Backup Configuration
DB_BACKUP_ENABLED=true
DB_BACKUP_START_TIME=03:00

# ============================================
# IAM & Security Configuration
# ============================================

# Service Account Names (leave empty to auto-generate)
GKE_SA_NAME=
APP_SA_NAME=

# Workload Identity
WORKLOAD_IDENTITY_ENABLED=true

# Custom IAM Roles (comma-separated)
# Example: roles/storage.admin,roles/bigquery.user
CUSTOM_IAM_ROLES=

# ============================================
# Application Configuration
# ============================================

# Application Version
APP_VERSION=1.0.0

# Container Image
IMAGE_REPOSITORY=gcr.io/${PROJECT_ID}/${APP_NAME}
IMAGE_TAG=latest

# Replica Configuration
REPLICAS=2
MIN_REPLICAS=2
MAX_REPLICAS=10

# Resource Limits
MEMORY_REQUEST=256Mi
CPU_REQUEST=100m
MEMORY_LIMIT=512Mi
CPU_LIMIT=500m

# ============================================
# Monitoring & Alerting
# ============================================

# Alert Email for Notifications
ALERT_EMAIL=

# Enable Backups
ENABLE_BACKUPS=false

# ============================================
# DNS Configuration (Optional)
# ============================================

# Cloud DNS Zone Name
DNS_ZONE=

# DNS Name for Application
DNS_NAME=

# ============================================
# Advanced Configuration
# ============================================

# Create Stateful Node Pool
CREATE_STATEFUL_POOL=false

# Dry Run Mode (for testing)
DRY_RUN=false

# Deployment Timeout (seconds)
DEPLOYMENT_TIMEOUT=600

# ============================================
# Feature Flags
# ============================================

# Enable specific features
ENABLE_CLOUD_NAT=true
ENABLE_PRIVATE_SERVICE_CONNECTION=true
ENABLE_UPTIME_CHECKS=true
ENABLE_LOG_METRICS=true
